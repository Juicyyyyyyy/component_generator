{% extends 'base.html' %}

{% block content %}
    {% if user.is_authenticated %}
        <main class="flex justify-between items-start p-8 generator-container bg-gray-100">

            <aside class="w-1/3 p-6 bg-gradient-to-r from-indigo-900 to-indigo-600 text-white rounded-md shadow-lg">
                <h2 class="text-4xl font-bold mb-6">Customize Your Component</h2>

                {% for parameter in parameters %}
                    <div class="mb-6">
                        <label class="block text-sm font-semibold mb-2 text-gray-200">{{ parameter.name }}</label>
                        <select class="customization-select w-full px-4 py-2 bg-white text-gray-800 border-2 border-purple-300 rounded-md focus:outline-none focus:border-purple-500 transition duration-300">
                            <option selected disabled hidden class="text-black">Select {{ parameter.name }}</option>
                            {% for option in parameter_options %}
                                {% if option.id_parameter.id == parameter.id %}
                                    <option value="{{ option.value }}" class="text-gray-800">{{ option.name }}</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                    </div>
                {% endfor %}
                <button class="bg-blue-700 text-white px-4 py-2 rounded-md hover:bg-blue-800 transition duration-300">
                    Continue
                </button>
            </aside>


            <section class="w-2/3 p-6 bg-gray-100 rounded-md">
                <h2 class="text-4xl font-bold mb-6 text-center">The component will be displayed here</h2>
                <div class="lottie-container">
                    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
                    <lottie-player src="https://lottie.host/37791a29-dc35-4b1c-a5c8-7f44b7f1924e/vnoIeOUqZe.json"
                                   speed="1" style="width: 100%; height: 450px" loop autoplay direction="1"
                                   mode="normal"></lottie-player>
                </div>
            </section>

        </main>

    {% else %}
        <script>
            window.location.href = "{% url 'login' %}";
        </script>
    {% endif %}
{% endblock %}
